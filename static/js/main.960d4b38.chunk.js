(this["webpackJsonpnestjs-course-frontend"]=this["webpackJsonpnestjs-course-frontend"]||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},129:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n,r,s,c,i,o,u,l,p,h,d,m,b,f,v,O,k,g,j,y,w,E,S,x,T,C,_,P,A,D=a(0),M=a.n(D),I=a(8),N=a.n(I),R=a(22),U=a(28),B=a(79),z=a(78),F=(a(115),a(13)),W=a(14),H=a(21),L=a(20),G=a(19),$=a(6),J=a(15),K=a(10),q=a(207),Q=a(198),V=a(11),X=(a(116),V.a.div(n||(n=Object(K.a)(["\n  width: 100%;\n  padding: 8px 16px;\n  background-color: #f7c5c0;\n  color: #a51809;\n  box-sizing: border-box;\n  margin-bottom: 10px;\n"])))),Y=V.a.h1(r||(r=Object(K.a)(["\n  font-size: 18px;\n  margin: 10px 0;\n"]))),Z=V.a.ul(s||(s=Object(K.a)(["\n  padding-left: 20px;\n"]))),ee=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderMessageArray=function(e){var t=e.map((function(e,t){return M.a.createElement("li",{key:t},e)}));return M.a.createElement(Z,null,t)},e}return Object(W.a)(a,[{key:"render",value:function(){var e=this.props.message;return M.a.createElement(X,null,M.a.createElement(Y,null,"Oops!"),Array.isArray(e)?this.renderMessageArray(e):M.a.createElement("p",null,e))}}]),a}(D.Component),te=V.a.h1(c||(c=Object(K.a)(["\n  margin-top: 0;\n"]))),ae=V.a.div(i||(i=Object(K.a)(["\n  max-width: 480px;\n  width: 100%;\n  background-color: #edf4ff;\n  padding: 30px;\n  border-radius: 5px;\n"]))),ne=Object(V.a)(q.a)(o||(o=Object(K.a)(["\n  width: 100%;\n"]))),re=Object(R.b)("userStore","routerStore")(u=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).submit=Object(J.a)(Object($.a)().mark((function e(){var t,a,r,s;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({errorMessage:null}),t=n.state,a=t.username,r=t.password,e.prev=2,e.next=5,n.props.userStore.signin(a,r);case 5:window.location.hash="/tasks",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),s=e.t0.response.data.message,n.setState({errorMessage:s});case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),n.goToSignUp=function(){window.location.hash="/signup"},n.state={username:"",password:"",errorMesssage:null},n}return Object(W.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errorMessage;return M.a.createElement("div",{className:"fullscreen-wrapper"},M.a.createElement(ae,null,M.a.createElement(te,null,"Hello!"),M.a.createElement("p",null,"Fill in your username and password to sign in."),t&&M.a.createElement(ee,{message:this.state.errorMessage}),M.a.createElement("div",null,M.a.createElement(ne,{id:"outlined-name",label:"Username",margin:"dense",variant:"outlined",onChange:function(t){return e.setState({username:t.target.value})}})),M.a.createElement("div",null,M.a.createElement(ne,{id:"outlined-name",label:"Password",margin:"dense",variant:"outlined",type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),M.a.createElement("hr",null),M.a.createElement("div",null,M.a.createElement(Q.a,{style:{marginBottom:"10px"},fullWidth:!0,variant:"contained",color:"primary",onClick:this.submit},"SIGN IN"),M.a.createElement(Q.a,{fullWidth:!0,onClick:this.goToSignUp},"Don't have an account? Sign up now!"))))}}]),a}(D.Component))||u,se=(a(129),V.a.h1(l||(l=Object(K.a)(["\n  margin-top: 0;\n"])))),ce=V.a.div(p||(p=Object(K.a)(["\n  max-width: 480px;\n  width: 100%;\n  background-color: #edf4ff;\n  padding: 30px;\n  border-radius: 5px;\n"]))),ie=Object(V.a)(q.a)(h||(h=Object(K.a)(["\n  width: 100%;\n"]))),oe=Object(R.b)("userStore","routerStore")(d=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).submit=Object(J.a)(Object($.a)().mark((function e(){var t,a,r,s;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.username,r=t.password,e.prev=1,e.next=4,n.props.userStore.signup(a,r);case 4:window.location.hash="/signin",e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s=e.t0.response.data.message,n.setState({errorMessage:s});case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.state={username:"",password:"",errorMessage:null},n}return Object(W.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errorMessage;return M.a.createElement("div",{className:"fullscreen-wrapper"},M.a.createElement(ce,null,M.a.createElement(se,null,"Join us!"),M.a.createElement("p",null,"Start managing tasks easily."),t&&M.a.createElement(ee,{message:this.state.errorMessage}),M.a.createElement("div",null,M.a.createElement(ie,{id:"outlined-name",label:"Username",margin:"dense",variant:"outlined",onChange:function(t){return e.setState({username:t.target.value})}})),M.a.createElement("div",null,M.a.createElement(ie,{id:"outlined-name",label:"Password",margin:"dense",variant:"outlined",type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),M.a.createElement("p",null,"Passwords must contain at least 1 upper case letter, 1 lower case letter and one number OR special charracter."),M.a.createElement("hr",null),M.a.createElement("div",null,M.a.createElement(Q.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.submit},"SIGN UP"))))}}]),a}(D.Component))||d,ue=a(204),le=a(203),pe=a(106),he=a.n(pe),de=a(107),me=a.n(de),be=a(199),fe=a(200),ve=a(201),Oe=a(202),ke=a(196),ge=a(205),je=a(209),ye=a(104),we=a.n(ye),Ee=V.a.div(m||(m=Object(K.a)(["\n  margin-bottom: 20px;\n"]))),Se=V.a.h1(b||(b=Object(K.a)(["\n  margin: 8px 0;\n  font-size: 22px;\n"]))),xe=Object(R.b)("tasksStore")(f=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).deleteTask=function(){e.props.tasksStore.deleteTask(e.props.id)},e.handleStatusChange=function(t){e.props.tasksStore.updateTaskStatus(e.props.id,t.target.value)},e}return Object(W.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description;return M.a.createElement(Ee,null,M.a.createElement(be.a,null,M.a.createElement(fe.a,null,M.a.createElement(Se,null,t),a),M.a.createElement(ve.a,{style:{padding:"14px"},disableSpacing:!0},M.a.createElement(Oe.a,{justify:"space-between",container:!0},M.a.createElement(Oe.a,{item:!0},M.a.createElement(ke.a,{style:{width:"140px"}},M.a.createElement(ge.a,{value:this.props.status,onChange:this.handleStatusChange,displayEmpty:!0},M.a.createElement(je.a,{value:"OPEN"},"Open"),M.a.createElement(je.a,{value:"IN_PROGRESS"},"In Progress"),M.a.createElement(je.a,{value:"DONE"},"Done")))),M.a.createElement(Oe.a,{item:!0},M.a.createElement(le.a,{onClick:this.deleteTask},M.a.createElement(we.a,{color:"error"})))))))}}]),a}(D.Component))||f,Te=xe,Ce=a(210),_e=a(105),Pe=a.n(_e),Ae=a(206),De=a(208),Me=V.a.div(v||(v=Object(K.a)(["\n  margin-top: 20px;\n"]))),Ie=V.a.div(O||(O=Object(K.a)(["\n  background-color: #c0cde0;\n  border-radius: 5px;\n  padding: 10px;\n"]))),Ne=Object(R.b)("tasksStore")(k=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).filters$=new Ae.a,n.syncFilters=function(){var e=n.state,t=e.status,a=e.search;n.filters$.next({status:t,search:a})},n.handleStatusFilterChange=function(e){var t=e.target.value;n.setState({status:t},n.syncFilters)},n.handleSearchTermChange=function(e){var t=e.target.value;n.setState({search:t},n.syncFilters)},n.state={status:e.tasksStore.filters.status,search:e.tasksStore.filters.search},n.filters$.pipe(Object(De.a)(500)).subscribe((function(t){e.tasksStore.updateFilters(t)})),n}return Object(W.a)(a,[{key:"render",value:function(){return M.a.createElement(Me,null,M.a.createElement(Oe.a,{justify:"space-between",container:!0},M.a.createElement(Oe.a,{item:!0},M.a.createElement(Ie,null,M.a.createElement(ke.a,{style:{width:"220px"}},M.a.createElement(q.a,{placeholder:"Search...",value:this.state.search,onChange:this.handleSearchTermChange,InputProps:{startAdornment:M.a.createElement(Ce.a,{position:"start"},M.a.createElement(Pe.a,null))}})))),M.a.createElement(Oe.a,{item:!0},M.a.createElement(Ie,null,M.a.createElement(ke.a,{style:{width:"220px"}},M.a.createElement(ge.a,{value:this.state.status,onChange:this.handleStatusFilterChange,displayEmpty:!0},M.a.createElement(je.a,{value:""},"No status filter"),M.a.createElement(je.a,{value:"OPEN"},"Open"),M.a.createElement(je.a,{value:"IN_PROGRESS"},"In Progress"),M.a.createElement(je.a,{value:"DONE"},"Done")))))))}}]),a}(D.Component))||k,Re=V.a.div(g||(g=Object(K.a)(["\n  width: 100%;\n  max-width: 860px;\n  margin: auto;\n  padding: 20px;\n  box-sizing: border-box;\n"]))),Ue=V.a.div(j||(j=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  border-bottom: 3px solid #757c87;\n"]))),Be=V.a.h1(y||(y=Object(K.a)(["\n  width: 100%;\n  color: #edf4ff;\n"]))),ze=V.a.div(w||(w=Object(K.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),Fe=V.a.div(E||(E=Object(K.a)(["\n  padding-top: 20px;\n"]))),We=V.a.p(S||(S=Object(K.a)(["\n  color: #edf4ff;\n  text-align: center;\n  font-size: 22px;\n"]))),He=V.a.div(x||(x=Object(K.a)(["\n  margin-left: 10px;\n  \n  .signOutIcon {\n    fill: #edf4ff;\n  }\n"]))),Le=Object(R.b)("tasksStore","routerStore","userStore")(T=Object(R.c)(T=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(F.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleSignOut=function(){var t=e.props,a=t.userStore,n=t.tasksStore;a.signout(),n.resetTasks(),window.location.hash="/signin"},e.renderTasks=function(){var t=e.props.tasksStore;return t.tasks.length?t.tasks.map((function(e){return M.a.createElement(Te,{key:e.id,id:e.id,title:e.title,description:e.description,status:e.status})})):M.a.createElement(We,null,"No tasks available. Create one?")},e}return Object(W.a)(a,[{key:"componentDidMount",value:function(){this.props.tasksStore.fetchTasks()}},{key:"render",value:function(){return M.a.createElement(Re,null,M.a.createElement(Ue,null,M.a.createElement(Be,null,"Get things done."),M.a.createElement(ze,null,M.a.createElement(ue.a,{variant:"extended",onClick:function(){window.location.hash="/tasks/create"}},M.a.createElement(he.a,null),"Create Task"),M.a.createElement(He,null,M.a.createElement(le.a,{onClick:this.handleSignOut},M.a.createElement(me.a,{className:"signOutIcon"}))))),M.a.createElement(Ne,null),M.a.createElement(Fe,null,this.renderTasks()))}}]),a}(D.Component))||T)||T,Ge=Le,$e=V.a.div(C||(C=Object(K.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Je=V.a.div(_||(_=Object(K.a)(["\n  max-width: 480px;\n  width: 100%;\n  background-color: #edf4ff;\n  padding: 30px;\n  border-radius: 5px;\n"]))),Ke=Object(R.b)("tasksStore","routerStore")(P=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).handleSubmitTask=Object(J.a)(Object($.a)().mark((function e(){var t,a,r,s,c;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.tasksStore,a=n.state,r=a.title,s=a.description,e.prev=2,e.next=5,t.createTask(r,s);case 5:window.location.hash="/tasks",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),c=e.t0.response.data.message,n.setState({errorMessage:c});case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),n.state={title:"",description:"",errorMessage:null},n}return Object(W.a)(a,[{key:"render",value:function(){var e=this;return M.a.createElement($e,null,M.a.createElement(Je,null,M.a.createElement("h1",null,"Create a new task"),M.a.createElement("p",null,"Provide information about the task you wish to complete."),this.state.errorMessage&&M.a.createElement(ee,{message:this.state.errorMessage}),M.a.createElement(ke.a,{fullWidth:!0},M.a.createElement(q.a,{label:"Title",placeholder:"Title",margin:"normal",variant:"outlined",onChange:function(t){return e.setState({title:t.target.value})}})),M.a.createElement(ke.a,{fullWidth:!0},M.a.createElement(q.a,{label:"Description",placeholder:"Description",multiline:!0,rows:"8",margin:"normal",variant:"outlined",onChange:function(t){return e.setState({description:t.target.value})}})),M.a.createElement(Q.a,{style:{marginTop:"10px"},fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleSubmitTask},"CREATE TASK")))}}]),a}(D.Component))||P,qe=Object(R.b)("routerStore")(A=Object(R.c)(A=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(){return Object(F.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return M.a.createElement(D.Fragment,null,M.a.createElement(G.a,{exact:!0,path:"/",component:re}),M.a.createElement(G.a,{path:"/signin/",component:re}),M.a.createElement(G.a,{path:"/signup/",component:oe}),M.a.createElement(G.a,{exact:!0,path:"/tasks",component:Ge}),M.a.createElement(G.a,{exact:!0,path:"/tasks/create",component:Ke}))}}]),a}(D.Component))||A)||A,Qe=qe;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ve,Xe,Ye,Ze,et,tt=a(43),at=a.n(tt),nt=function(){function e(t){Object(F.a)(this,e),this.BASE_URL="https://task-management-pranik.herokuapp.com",this._accessToken=null,this.routerStore=t}return Object(W.a)(e,[{key:"get",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t){var a,n=this,r=arguments;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},Object.assign(a,this._getCommonOptions()),e.abrupt("return",at.a.get("".concat(this.BASE_URL,"/").concat(t),a).catch((function(e){return n._handleHttpError(e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t){var a,n,r=this,s=arguments;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]?s[2]:{},Object.assign(n,this._getCommonOptions()),e.abrupt("return",at.a.post("".concat(this.BASE_URL,"/").concat(t),a,n).catch((function(e){return r._handleHttpError(e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t){var a,n=this,r=arguments;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},Object.assign(a,this._getCommonOptions()),e.abrupt("return",at.a.delete("".concat(this.BASE_URL,"/").concat(t),a).catch((function(e){return n._handleHttpError(e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t){var a,n,r=this,s=arguments;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]?s[2]:{},Object.assign(n,this._getCommonOptions()),e.abrupt("return",at.a.patch("".concat(this.BASE_URL,"/").concat(t),a,n).catch((function(e){return r._handleHttpError(e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleHttpError",value:function(e){if(401!==e.response.data.statusCode)throw e;return this._handle401()}},{key:"_handle401",value:function(){window.location.hash="/signin"}},{key:"_getCommonOptions",value:function(){var e=this.loadToken();return{headers:{Authorization:"Bearer ".concat(e)}}}},{key:"accessToken",get:function(){return this._accessToken?this._accessToken:this.loadToken()}},{key:"saveToken",value:function(e){return this._accessToken=e,localStorage.setItem("accessToken",e)}},{key:"loadToken",value:function(){var e=localStorage.getItem("accessToken");return this._accessToken=e,e}},{key:"removeToken",value:function(){localStorage.removeItem("accessToken")}}]),e}(),rt=a(108),st=a.n(rt),ct=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(){return Object(F.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"fetchTasks",value:function(e){var t=e.status,a=e.search,n={};t.length&&(n.status=t),a.length&&(n.search=a);var r=st.a.stringify(n);return this.get("tasks"+(r?"?".concat(r):""))}},{key:"deleteTask",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t){return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete("tasks/".concat(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskStatus",value:function(e,t){return this.patch("tasks/".concat(e,"/status"),{status:t})}},{key:"createTask",value:function(e,t){return this.post("tasks",{title:e,description:t})}}]),a}(nt),it=a(63),ot=a(30),ut=(a(99),a(12)),lt=(Ve=function(){function e(t){Object(F.a)(this,e),Object(it.a)(this,"tasks",Xe,this),Object(it.a)(this,"filters",Ye,this),this.tasksService=t}return Object(W.a)(e,[{key:"updateFilters",value:function(e){var t=e.status,a=e.search;this.filters.status=t,this.filters.search=a,this.fetchTasks()}},{key:"resetTasks",value:function(){this.tasks=[]}},{key:"fetchTasks",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(){var t;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasksService.fetchTasks(this.filters);case 2:(t=e.sent)&&(this.tasks=t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createTask",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t,a){var n;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tasksService.createTask(t,a);case 2:(n=e.sent)&&this.tasks.push(n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t){var a;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.tasks.findIndex((function(e){return e.id===t})),e.next=3,this.tasksService.deleteTask(t);case 3:this.tasks.splice(a,1);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskStatus",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t,a){var n;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.tasks.find((function(e){return e.id===t})),e.next=3,this.tasksService.updateTaskStatus(t,a);case 3:n.status=a;case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),Xe=Object(ot.a)(Ve.prototype,"tasks",[ut.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ye=Object(ot.a)(Ve.prototype,"filters",[ut.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{status:"",search:""}}}),Object(ot.a)(Ve.prototype,"resetTasks",[ut.action],Object.getOwnPropertyDescriptor(Ve.prototype,"resetTasks"),Ve.prototype),Object(ot.a)(Ve.prototype,"fetchTasks",[ut.action],Object.getOwnPropertyDescriptor(Ve.prototype,"fetchTasks"),Ve.prototype),Object(ot.a)(Ve.prototype,"createTask",[ut.action],Object.getOwnPropertyDescriptor(Ve.prototype,"createTask"),Ve.prototype),Object(ot.a)(Ve.prototype,"deleteTask",[ut.action],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteTask"),Ve.prototype),Object(ot.a)(Ve.prototype,"updateTaskStatus",[ut.action],Object.getOwnPropertyDescriptor(Ve.prototype,"updateTaskStatus"),Ve.prototype),Ve),pt=(Ze=function(){function e(t){Object(F.a)(this,e),Object(it.a)(this,"username",et,this),this.authService=t}return Object(W.a)(e,[{key:"signin",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t,a){return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authService.signin(t,a);case 2:this.username=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t,a){return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.authService.signup(t,a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signout",value:function(){this.username=null,this.authService.removeToken()}}]),e}(),et=Object(ot.a)(Ze.prototype,"username",[ut.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(ot.a)(Ze.prototype,"signin",[ut.action],Object.getOwnPropertyDescriptor(Ze.prototype,"signin"),Ze.prototype),Object(ot.a)(Ze.prototype,"signup",[ut.action],Object.getOwnPropertyDescriptor(Ze.prototype,"signup"),Ze.prototype),Object(ot.a)(Ze.prototype,"signout",[ut.action],Object.getOwnPropertyDescriptor(Ze.prototype,"signout"),Ze.prototype),Ze),ht=function(e){Object(H.a)(a,e);var t=Object(L.a)(a);function a(){return Object(F.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"signin",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t,a){var n,r;return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.post)("".concat(this.BASE_URL,"/auth/signin"),{username:t,password:a});case 2:return n=e.sent,r=n.data.accessToken,this.saveToken(r),e.abrupt("return",n.data.username);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(t,a){return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.post)("".concat(this.BASE_URL,"/auth/signup"),{username:t,password:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signout",value:function(){var e=Object(J.a)(Object($.a)().mark((function e(){return Object($.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.removeToken();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(nt),dt={},mt={};mt.routerStore=new B.RouterStore;var bt=Object(U.a)(),ft=Object(B.syncHistoryWithStore)(bt,mt.routerStore);dt.tasksService=new ct(mt.routerStore),dt.authService=new ht,mt.tasksStore=new lt(dt.tasksService),mt.userStore=new pt(dt.authService);var vt=M.a.createElement(R.a,mt,M.a.createElement(z.a,{history:ft},M.a.createElement(Qe,null)));N.a.render(vt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[161,1,2]]]);
//# sourceMappingURL=main.960d4b38.chunk.js.map